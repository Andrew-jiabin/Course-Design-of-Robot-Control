# 基于自适应PID的Phantom Omni三自由度机器人控制方法研究及前馈补偿探究
## 报告作者：林佳斌

## 📌 项目简介
本项目针对Phantom Omni三自由度机器人（POR）开展控制算法研究，通过构建精确的运动学/动力学模型，设计并验证了四种改进型PID控制策略，从时域和频域维度验证了控制方法的有效性。


## 🔬 研究内容

### 1. 机器人建模
- **运动学建模**：采用Denavit-Hartenberg方法建立坐标系映射关系
- **动力学建模**：基于拉格朗日方程推导动力学方程，包含：
  - 惯性矩阵 $M(q)$
  - 科氏力/离心力项 $C(q,\dot{q})$
  - 重力项 $G(q)$

### 2. 控制策略对比
| 控制策略         | 创新特性                          | 核心目标                     |
|------------------|-----------------------------------|------------------------------|
| 传统PID          | 固定增益参数                      | 基础位置跟踪                 |
| PID+前馈控制     | 加入动力学模型补偿项              | 抑制非线性耦合影响           |
| PID+自适应控制   | 分段线性增益调节                  | 平衡响应速度与稳态精度       |
| PID+前馈+自适应  | 复合补偿策略                      | 综合性能优化                 |

### 3. 仿真验证
- **时域分析**：阶跃响应测试（包含超调量、峰值时间等5项指标）
- **频域分析**：幅频特性曲线绘制（基于Simulink线性化分析工具）

## 💡 创新控制策略

### 1. 前馈补偿机制
通过引入动力学方程预测量构建前馈补偿项：
$$ u_{ff} = \underbrace{\hat{M}(q)\ddot{q}_d}_{\text{惯性补偿}} + \underbrace{\hat{C}(q,\dot{q})\dot{q}_d}_{\text{科氏力补偿}} + \underbrace{\hat{G}(q)}_{\text{重力补偿}} $$
 

### 2. 自适应增益调节
设计误差驱动的分段线性调节策略：
$$ 
K_p = 
\begin{cases} 
K_{p\_{max}} = 8.5 & e > \epsilon_1 = 0.1 \text{rad} \\
K_{p\_{min}} = 2.0 & e < \epsilon_2 = 0.01 \text{rad}
\end{cases}
$$
 

## 📂 建模与测试文件

| 文件路径                          | 功能描述                                     |
|-----------------------------------|--------------------------------------------|
| `simulation.slx`                  | Simulink主建模文件（基于`phantom_omni_sfun.m`）|
| `phantom_omni_sfun.m`             | Simulink S-Function核心建模文件（集成PID控制与POR动力学）|
| `main_test.m`                     | 阶跃响应测试主程序                           |
| `frequency_response_phantom.m`    | 频率响应特性分析脚本                         |
| `analyzeStepResponse.m`           | 阶跃响应指标计算工具（超调量/调整时间等）     |
| `\plant_models\phantom_dynamics.m` | 机器人动力学模型实现                         |
| `\controllers\adaptive_pid.m`      | 自适应PID控制器算法                         |
| `\controllers\adaptive_pid_ff.m`   | 前馈补偿+自适应PID复合控制器                |
| `\controllers\pid_controller.m`    | 传统PID控制器基线实现                       |
| `\controllers\pid_ff.m`            | 前馈补偿+传统PID控制器                      |

## 📊 关键数据

### 阶跃响应参数对比
| 控制策略         | 超调量(%) | 峰值时间(s) | 调整时间(s) | 上升时间(s) | 类ITAE     |
|------------------|----------|-------------|-------------|-------------|----------|
| 传统PID          | 0.76     | 0.677       | 0.317       | 0.178       | 33.34    |
| PID+前馈         | 0.92     | 0.659       | 0.310       | 0.174       | 39.16    |
| PID+自适应       | 3.18     | **0.103**       | **0.074**       | **0.049**       | **5.08**     |
| PID+前馈+自适应  | 3.39     | **0.103**       | **0.074**       | **0.049**       | 5.80     |


## 📝 学习总结
通过本项目实践，深入掌握了：
1. 机器人运动学/动力学建模方法（D-H参数法+拉格朗日方程）
2. PID控制算法改进策略（前馈补偿与自适应调节）
3. MATLAB/Simulink联合仿真技术（S-Function建模与线性化分析）
